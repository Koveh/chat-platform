// Объяснения финансовых метрик с формулами и примерами

interface MetricExplanation {
  title: string;
  description: string;
  formula: string;
  example: string;
  interpretation: string;
  goodValue?: string;
}

export const metricExplanations: Record<string, MetricExplanation> = {
  // Ценовые мультипликаторы
  priceToEarnings: {
    title: 'P/E (Price to Earnings)',
    description: 'Отношение рыночной капитализации компании к её годовой чистой прибыли. Показывает, сколько инвесторы готовы платить за каждый доллар прибыли компании.',
    formula: '`P/E = Цена акции / Прибыль на акцию (EPS)`',
    example: 'Если цена акции компании составляет $100, а EPS за последние 12 месяцев равен $5, то P/E = $100 / $5 = 20.',
    interpretation: 'Низкий P/E может указывать на недооцененность акции или проблемы с ростом. Высокий P/E может означать, что инвесторы ожидают высокого роста в будущем или что акция переоценена.',
    goodValue: 'Зависит от отрасли. Обычно значение между 15-25 считается нормальным для стабильных компаний.'
  },
  priceToCashFlow: {
    title: 'P/CF (Price to Cash Flow)',
    description: 'Отношение рыночной капитализации компании к её денежному потоку. Показывает, сколько инвесторы готовы платить за каждый доллар денежного потока компании.',
    formula: '`P/CF = Цена акции / Денежный поток на акцию` или `P/CF = Рыночная капитализация / Общий денежный поток`',
    example: 'Если цена акции компании $80, а денежный поток на акцию $10, то P/CF = $80 / $10 = 8.',
    interpretation: 'Низкий P/CF может указывать на недооцененность акции. Этот показатель менее подвержен бухгалтерским манипуляциям, чем P/E, и может быть более надежным для оценки компаний с высокими неденежными расходами.',
    goodValue: 'Зависит от отрасли. Обычно значение ниже 10 считается привлекательным для большинства отраслей.'
  },
  priceToSales: {
    title: 'P/S (Price to Sales)',
    description: 'Отношение рыночной капитализации компании к её годовой выручке. Полезен для оценки компаний, которые еще не приносят прибыль.',
    formula: '`P/S = Рыночная капитализация / Годовая выручка` или `P/S = Цена акции / Выручка на акцию`',
    example: 'Если рыночная капитализация компании составляет $1 млрд, а годовая выручка $200 млн, то P/S = $1 млрд / $200 млн = 5.',
    interpretation: 'Низкий P/S может указывать на недооцененность, особенно если компания имеет потенциал для улучшения маржи. Высокий P/S может означать переоцененность или ожидания высокого роста.',
    goodValue: 'Зависит от отрасли. Для розничной торговли 0.5-1.5, для технологических компаний 2-10.'
  },
  priceToBook: {
    title: 'P/B (Price to Book)',
    description: 'Отношение рыночной капитализации компании к её балансовой стоимости. Показывает, сколько инвесторы готовы платить за чистые активы компании.',
    formula: '`P/B = Рыночная капитализация / Балансовая стоимость` или `P/B = Цена акции / Балансовая стоимость на акцию`',
    example: 'Если цена акции составляет $50, а балансовая стоимость на акцию $25, то P/B = $50 / $25 = 2.',
    interpretation: 'P/B < 1 может указывать на недооцененность или проблемы с рентабельностью. Высокий P/B характерен для компаний с высокой рентабельностью капитала.',
    goodValue: 'Зависит от отрасли. Для банков 1-2, для технологических компаний может быть 3-10 и выше.'
  },
  priceToOperatingCashFlow: {
    title: 'P/OCF (Price to Operating Cash Flow)',
    description: 'Отношение рыночной капитализации к операционному денежному потоку. Менее подвержен манипуляциям, чем P/E.',
    formula: '`P/OCF = Рыночная капитализация / Операционный денежный поток`',
    example: 'Если рыночная капитализация компании $2 млрд, а операционный денежный поток $400 млн, то P/OCF = $2 млрд / $400 млн = 5.',
    interpretation: 'Низкий P/OCF может указывать на недооцененность или проблемы с ростом. Высокий P/OCF может означать переоцененность или ожидания высокого роста.',
    goodValue: 'Обычно значение ниже 10 считается привлекательным.'
  },
  
  // Стоимостные метрики
  marketCap: {
    title: 'Рыночная капитализация (Market Cap)',
    description: 'Общая рыночная стоимость всех выпущенных акций компании. Показывает размер компании с точки зрения рынка.',
    formula: '`Рыночная капитализация = Цена акции × Количество выпущенных акций`',
    example: 'Если цена акции $50, а количество выпущенных акций 100 млн, то рыночная капитализация = $50 × 100 млн = $5 млрд.',
    interpretation: 'Крупные компании (>$10 млрд) обычно более стабильны, но имеют меньший потенциал роста. Малые компании (<$2 млрд) более рискованны, но могут иметь больший потенциал роста.'
  },
  enterpriseValue: {
    title: 'Стоимость предприятия (Enterprise Value)',
    description: 'Общая стоимость компании, включая долг и за вычетом денежных средств. Более полная мера стоимости, чем рыночная капитализация.',
    formula: '`EV = Рыночная капитализация + Общий долг - Денежные средства и эквиваленты`',
    example: 'Если рыночная капитализация $5 млрд, долг $1 млрд, а денежные средства $500 млн, то EV = $5 млрд + $1 млрд - $500 млн = $5.5 млрд.',
    interpretation: 'EV учитывает как стоимость акций, так и долговую нагрузку компании, что делает его более точным показателем общей стоимости.'
  },
  evToEBITDA: {
    title: 'EV/EBITDA',
    description: 'Отношение стоимости предприятия к прибыли до вычета процентов, налогов, износа и амортизации. Популярный показатель для сравнения компаний с разной структурой капитала.',
    formula: '`EV/EBITDA = Стоимость предприятия / EBITDA`',
    example: 'Если EV компании $5.5 млрд, а EBITDA $1 млрд, то EV/EBITDA = $5.5 млрд / $1 млрд = 5.5.',
    interpretation: 'Низкий EV/EBITDA может указывать на недооцененность. Высокий EV/EBITDA может означать переоцененность или ожидания высокого роста.',
    goodValue: 'Обычно значение ниже 10 считается привлекательным. Для стабильных компаний 6-8.'
  },
  
  // Дивидендные метрики
  dividendYield: {
    title: 'Дивидендная доходность (Dividend Yield)',
    description: 'Годовые дивиденды на акцию, выраженные в процентах от текущей цены акции. Показывает доходность инвестиций только от дивидендов.',
    formula: '`Дивидендная доходность = (Годовые дивиденды на акцию / Цена акции) × 100%`',
    example: 'Если годовые дивиденды на акцию составляют $2, а цена акции $50, то дивидендная доходность = ($2 / $50) × 100% = 4%.',
    interpretation: 'Высокая дивидендная доходность может быть привлекательна для инвесторов, ориентированных на доход, но может также указывать на проблемы с ростом или устойчивостью дивидендов.',
    goodValue: 'Зависит от сектора и стадии развития компании. Обычно 2-6% считается хорошим значением.'
  },
  dividendPayout: {
    title: 'Коэффициент выплаты дивидендов (Dividend Payout Ratio)',
    description: 'Доля чистой прибыли, выплачиваемая в виде дивидендов. Показывает, насколько устойчивы дивидендные выплаты.',
    formula: '`Коэффициент выплаты = (Дивиденды на акцию / Прибыль на акцию) × 100%`',
    example: 'Если дивиденды на акцию $2, а прибыль на акцию $5, то коэффициент выплаты = ($2 / $5) × 100% = 40%.',
    interpretation: 'Низкий коэффициент означает, что компания реинвестирует большую часть прибыли. Высокий коэффициент может указывать на риск сокращения дивидендов в будущем.',
    goodValue: 'Обычно 30-60% считается устойчивым. Для коммунальных компаний может быть выше (70-90%).'
  },
  
  // Показатели рентабельности
  returnOnEquity: {
    title: 'Рентабельность собственного капитала (ROE)',
    description: 'Отношение чистой прибыли к собственному капиталу. Показывает, насколько эффективно компания использует капитал акционеров.',
    formula: '`ROE = (Чистая прибыль / Собственный капитал) × 100%`',
    example: 'Если чистая прибыль компании $100 млн, а собственный капитал $500 млн, то ROE = ($100 млн / $500 млн) × 100% = 20%.',
    interpretation: 'Высокий ROE указывает на эффективное использование капитала. Однако очень высокий ROE может быть результатом высокого финансового рычага (долга).',
    goodValue: 'Обычно значение выше 15% считается хорошим. Для банков 10-15%.'
  },
  returnOnAssets: {
    title: 'Рентабельность активов (ROA)',
    description: 'Отношение чистой прибыли к общим активам. Показывает, насколько эффективно компания использует свои активы для генерации прибыли.',
    formula: '`ROA = (Чистая прибыль / Общие активы) × 100%`',
    example: 'Если чистая прибыль компании $100 млн, а общие активы $2 млрд, то ROA = ($100 млн / $2 млрд) × 100% = 5%.',
    interpretation: 'Высокий ROA указывает на эффективное использование активов. ROA обычно ниже, чем ROE, особенно для компаний с высоким уровнем долга.',
    goodValue: 'Зависит от отрасли. Для банков 1-2%, для технологических компаний может быть 10-20%.'
  },
  returnOnCapitalEmployed: {
    title: 'Рентабельность задействованного капитала (ROCE)',
    description: 'Отношение операционной прибыли (EBIT) к задействованному капиталу (собственный капитал + долгосрочные обязательства). Показывает эффективность использования всего долгосрочного капитала.',
    formula: '`ROCE = (EBIT / (Собственный капитал + Долгосрочные обязательства)) × 100%`',
    example: 'Если EBIT компании $150 млн, собственный капитал $500 млн, а долгосрочные обязательства $300 млн, то ROCE = ($150 млн / ($500 млн + $300 млн)) × 100% = 18.75%.',
    interpretation: 'Высокий ROCE указывает на эффективное использование капитала для генерации прибыли. Это важный показатель для капиталоемких отраслей.',
    goodValue: 'Обычно значение выше 15% считается хорошим. Зависит от отрасли и стоимости капитала.'
  },
  returnOnInvestedCapital: {
    title: 'Рентабельность инвестированного капитала (ROIC)',
    description: 'Отношение чистой операционной прибыли после налогов (NOPAT) к инвестированному капиталу. Показывает, насколько эффективно компания использует инвестированный капитал.',
    formula: '`ROIC = (EBIT × (1 - Налоговая ставка) / Инвестированный капитал) × 100%`',
    example: 'Если EBIT компании $200 млн, налоговая ставка 25%, а инвестированный капитал $1 млрд, то ROIC = ($200 млн × (1 - 0.25) / $1 млрд) × 100% = 15%.',
    interpretation: 'ROIC выше стоимости капитала (WACC) означает, что компания создает стоимость для акционеров. Это один из ключевых показателей для оценки долгосрочной эффективности.',
    goodValue: 'Обычно значение выше стоимости капитала компании считается хорошим. Для большинства компаний это 10% и выше.'
  },
  returnOnSales: {
    title: 'Рентабельность продаж (ROS)',
    description: 'Отношение операционной прибыли (EBIT) к выручке. Показывает, сколько операционной прибыли генерирует каждый доллар выручки.',
    formula: '`ROS = (EBIT / Выручка) × 100%`',
    example: 'Если EBIT компании $50 млн, а выручка $200 млн, то ROS = ($50 млн / $200 млн) × 100% = 25%.',
    interpretation: 'Высокий ROS указывает на эффективное управление затратами и ценообразование. Низкий ROS может указывать на высокую конкуренцию или неэффективность.',
    goodValue: 'Зависит от отрасли. Для розничной торговли 2-5%, для программного обеспечения 15-30%.'
  },
  
  // Показатели маржинальности
  grossMargin: {
    title: 'Валовая маржа (Gross Margin)',
    description: 'Отношение валовой прибыли к выручке. Показывает, сколько денег остается после учета прямых затрат на производство.',
    formula: '`Валовая маржа = (Валовая прибыль / Выручка) × 100%`',
    example: 'Если выручка компании $1 млн, а валовая прибыль $400 тыс., то валовая маржа = ($400 тыс. / $1 млн) × 100% = 40%.',
    interpretation: 'Высокая валовая маржа указывает на сильную конкурентную позицию и способность устанавливать премиальные цены.',
    goodValue: 'Зависит от отрасли. Для программного обеспечения 70-90%, для розничной торговли 20-40%.'
  },
  ebitdaMargin: {
    title: 'Маржа EBITDA (EBITDA Margin)',
    description: 'Отношение EBITDA к выручке. Показывает операционную эффективность без учета амортизации, процентов и налогов.',
    formula: '`Маржа EBITDA = (EBITDA / Выручка) × 100%`',
    example: 'Если EBITDA компании $30 млн, а выручка $100 млн, то маржа EBITDA = ($30 млн / $100 млн) × 100% = 30%.',
    interpretation: 'Высокая маржа EBITDA указывает на эффективное управление операционными расходами. Это важный показатель для сравнения компаний с разными амортизационными политиками.',
    goodValue: 'Зависит от отрасли. Для телекоммуникаций 30-45%, для розничной торговли 5-15%.'
  },
  ebitMargin: {
    title: 'Маржа EBIT (EBIT Margin)',
    description: 'Отношение операционной прибыли (EBIT) к выручке. Показывает операционную эффективность без учета структуры капитала.',
    formula: '`Маржа EBIT = (EBIT / Выручка) × 100%`',
    example: 'Если EBIT компании $25 млн, а выручка $100 млн, то маржа EBIT = ($25 млн / $100 млн) × 100% = 25%.',
    interpretation: 'Высокая маржа EBIT указывает на эффективное управление операционными расходами и амортизацией.',
    goodValue: 'Зависит от отрасли. Для программного обеспечения 20-35%, для розничной торговли 3-10%.'
  },
  ebtMargin: {
    title: 'Маржа EBT (EBT Margin)',
    description: 'Отношение прибыли до налогообложения (EBT) к выручке. Показывает прибыльность с учетом процентных расходов.',
    formula: '`Маржа EBT = (EBT / Выручка) × 100%`',
    example: 'Если EBT компании $22 млн, а выручка $100 млн, то маржа EBT = ($22 млн / $100 млн) × 100% = 22%.',
    interpretation: 'Высокая маржа EBT указывает на эффективное управление операционными и финансовыми расходами.',
    goodValue: 'Зависит от отрасли. Обычно немного ниже маржи EBIT из-за процентных расходов.'
  },
  netMargin: {
    title: 'Чистая маржа (Net Margin)',
    description: 'Отношение чистой прибыли к выручке. Показывает, какая часть выручки превращается в чистую прибыль после всех расходов.',
    formula: '`Чистая маржа = (Чистая прибыль / Выручка) × 100%`',
    example: 'Если чистая прибыль компании $15 млн, а выручка $100 млн, то чистая маржа = ($15 млн / $100 млн) × 100% = 15%.',
    interpretation: 'Высокая чистая маржа указывает на общую эффективность бизнеса и способность генерировать прибыль для акционеров.',
    goodValue: 'Зависит от отрасли. Для программного обеспечения 15-30%, для розничной торговли 2-5%.'
  },
  
  // Показатели долговой нагрузки
  debtToAssets: {
    title: 'Отношение долга к активам (Debt to Assets)',
    description: 'Отношение общего долга компании к общим активам. Показывает, какая часть активов финансируется за счет долга.',
    formula: '`Отношение долга к активам = Общий долг / Общие активы`',
    example: 'Если общий долг компании $300 млн, а общие активы $1 млрд, то отношение долга к активам = $300 млн / $1 млрд = 0.3 или 30%.',
    interpretation: 'Низкое значение указывает на консервативную финансовую политику и низкий финансовый риск. Высокое значение может указывать на финансовые трудности.',
    goodValue: 'Обычно значение ниже 0.5 (50%) считается безопасным для большинства отраслей.'
  },
  debtToEquity: {
    title: 'Отношение долга к собственному капиталу (Debt to Equity)',
    description: 'Отношение общего долга компании к собственному капиталу. Показывает уровень финансового рычага.',
    formula: '`D/E = Общий долг / Собственный капитал`',
    example: 'Если общий долг компании $200 млн, а собственный капитал $400 млн, то D/E = $200 млн / $400 млн = 0.5.',
    interpretation: 'Низкий D/E указывает на консервативную финансовую политику. Высокий D/E может увеличить доходность для акционеров, но также увеличивает финансовый риск.',
    goodValue: 'Зависит от отрасли. Для большинства компаний значение ниже 1.0 считается безопасным.'
  },
  operatingCashFlowToDebt: {
    title: 'Отношение операционного денежного потока к долгу (OCF to Debt)',
    description: 'Отношение операционного денежного потока к общему долгу. Показывает способность компании обслуживать долг за счет операционной деятельности.',
    formula: '`OCF/Долг = (Операционный денежный поток / Общий долг) × 100%`',
    example: 'Если операционный денежный поток компании $80 млн, а общий долг $200 млн, то OCF/Долг = ($80 млн / $200 млн) × 100% = 40%.',
    interpretation: 'Высокое значение указывает на хорошую способность обслуживать долг. Низкое значение может указывать на потенциальные проблемы с погашением долга.',
    goodValue: 'Обычно значение выше 20% считается хорошим, выше 40% - отличным.'
  },
  financialLeverage: {
    title: 'Финансовый леверидж (Financial Leverage)',
    description: 'Отношение общих активов к собственному капиталу. Показывает, насколько компания использует заемные средства для финансирования активов.',
    formula: '`Финансовый леверидж = Общие активы / Собственный капитал`',
    example: 'Если общие активы компании $1 млрд, а собственный капитал $250 млн, то финансовый леверидж = $1 млрд / $250 млн = 4.',
    interpretation: 'Высокий леверидж увеличивает потенциальную доходность для акционеров, но также увеличивает финансовый риск. Низкий леверидж указывает на консервативную финансовую политику.',
    goodValue: 'Зависит от отрасли. Для банков 10-15, для промышленных компаний 1.5-3.'
  },
  interestCoverageRatio: {
    title: 'Коэффициент покрытия процентов (Interest Coverage Ratio)',
    description: 'Отношение операционной прибыли (EBIT) к процентным расходам. Показывает, насколько легко компания может выплачивать проценты по долгу.',
    formula: '`Коэффициент покрытия = EBIT / Процентные расходы`',
    example: 'Если EBIT компании $50 млн, а процентные расходы $10 млн, то коэффициент покрытия = $50 млн / $10 млн = 5.',
    interpretation: 'Высокий коэффициент указывает на низкий риск дефолта. Низкий коэффициент может указывать на финансовые трудности.',
    goodValue: 'Обычно значение выше 3 считается безопасным, выше 5 - комфортным.'
  },
  
  // Показатели ликвидности
  currentRatio: {
    title: 'Коэффициент текущей ликвидности (Current Ratio)',
    description: 'Отношение оборотных активов к краткосрочным обязательствам. Показывает способность компании погашать краткосрочные обязательства.',
    formula: '`Коэффициент текущей ликвидности = Оборотные активы / Краткосрочные обязательства`',
    example: 'Если оборотные активы компании $100 млн, а краткосрочные обязательства $50 млн, то коэффициент = $100 млн / $50 млн = 2.',
    interpretation: 'Высокий коэффициент указывает на хорошую ликвидность. Слишком высокий коэффициент может указывать на неэффективное использование активов.',
    goodValue: 'Обычно значение выше 1.5 считается хорошим, 1.0-1.5 - приемлемым.'
  },
  quickRatio: {
    title: 'Коэффициент быстрой ликвидности (Quick Ratio)',
    description: 'Отношение наиболее ликвидных активов (без учета запасов) к краткосрочным обязательствам. Более строгий показатель ликвидности.',
    formula: '`Коэффициент быстрой ликвидности = (Оборотные активы - Запасы) / Краткосрочные обязательства`',
    example: 'Если оборотные активы компании $100 млн, запасы $30 млн, а краткосрочные обязательства $50 млн, то коэффициент = ($100 млн - $30 млн) / $50 млн = 1.4.',
    interpretation: 'Высокий коэффициент указывает на способность компании погашать краткосрочные обязательства без продажи запасов.',
    goodValue: 'Обычно значение выше 1.0 считается хорошим.'
  },
  cashRatio: {
    title: 'Коэффициент денежной ликвидности (Cash Ratio)',
    description: 'Отношение денежных средств и их эквивалентов к краткосрочным обязательствам. Самый строгий показатель ликвидности.',
    formula: '`Коэффициент денежной ликвидности = (Денежные средства + Эквиваленты) / Краткосрочные обязательства × 100%`',
    example: 'Если денежные средства и эквиваленты компании $20 млн, а краткосрочные обязательства $50 млн, то коэффициент = ($20 млн / $50 млн) × 100% = 40%.',
    interpretation: 'Высокий коэффициент указывает на очень хорошую краткосрочную ликвидность. Слишком высокий коэффициент может указывать на неэффективное использование денежных средств.',
    goodValue: 'Обычно значение выше 20% считается хорошим для большинства отраслей.'
  },
  assetTurnover: {
    title: 'Оборачиваемость активов (Asset Turnover)',
    description: 'Отношение выручки к средним общим активам. Показывает, насколько эффективно компания использует свои активы для генерации выручки.',
    formula: '`Оборачиваемость активов = Выручка / Средние общие активы`',
    example: 'Если выручка компании $500 млн, а средние общие активы $600 млн, то оборачиваемость активов = $500 млн / $600 млн = 0.83.',
    interpretation: 'Высокая оборачиваемость указывает на эффективное использование активов. Низкая оборачиваемость может указывать на избыточные активы или неэффективность.',
    goodValue: 'Зависит от отрасли. Для розничной торговли 2-4, для производственных компаний 0.5-1.5.'
  },
  fixedAssetTurnover: {
    title: 'Оборачиваемость основных средств (Fixed Asset Turnover)',
    description: 'Отношение выручки к средним основным средствам. Показывает, насколько эффективно компания использует свои основные средства для генерации выручки.',
    formula: '`Оборачиваемость ОС = Выручка / Средние основные средства`',
    example: 'Если выручка компании $500 млн, а средние основные средства $100 млн, то оборачиваемость ОС = $500 млн / $100 млн = 5.',
    interpretation: 'Высокая оборачиваемость указывает на эффективное использование основных средств. Низкая оборачиваемость может указывать на избыточные мощности или устаревшее оборудование.',
    goodValue: 'Зависит от капиталоемкости отрасли. Для сервисных компаний 10-20, для производственных 3-5.'
  },
  
  // Показатели роста
  revenueGrowth5y: {
    title: 'Рост выручки за 5 лет (5-Year Revenue Growth)',
    description: 'Среднегодовой темп роста выручки за последние 5 лет. Показывает способность компании увеличивать продажи.',
    formula: '`CAGR = ((Выручка_год5 / Выручка_год1)^(1/4) - 1) × 100%`',
    example: 'Если выручка 5 лет назад была $100 млн, а сейчас $161 млн, то CAGR = ((161/100)^(1/4) - 1) × 100% = 10%.',
    interpretation: 'Высокий рост выручки указывает на успешную бизнес-модель и расширение рынка. Однако важно сравнивать с ростом прибыли.',
    goodValue: 'Зависит от стадии развития компании и отрасли. Для зрелых компаний 5-15%, для растущих 15-30% и выше.'
  },
  epsGrowth5y: {
    title: 'Рост прибыли на акцию за 5 лет (5-Year EPS Growth)',
    description: 'Среднегодовой темп роста прибыли на акцию за последние 5 лет. Показывает способность компании увеличивать прибыль для акционеров.',
    formula: '`CAGR = ((EPS_год5 / EPS_год1)^(1/4) - 1) × 100%`',
    example: 'Если EPS 5 лет назад был $2, а сейчас $4, то CAGR = ((4/2)^(1/4) - 1) × 100% = 18.9%.',
    interpretation: 'Высокий рост EPS указывает на улучшение прибыльности и потенциал для роста дивидендов и цены акций.',
    goodValue: 'Зависит от стадии развития компании и отрасли. Для зрелых компаний 5-15%, для растущих 15-30% и выше.'
  },
  
  // Элементы баланса компании
  balanceSheet: {
    title: 'Баланс компании (Balance Sheet)',
    description: 'Финансовый отчет, который показывает активы, обязательства и капитал компании на определенную дату. Баланс отражает финансовое положение компании и основан на фундаментальном уравнении: Активы = Обязательства + Капитал.',
    formula: '`Активы = Обязательства + Капитал`',
    example: 'Если активы компании составляют $353.3 млрд, обязательства $281.8 млрд, то капитал = $353.3 млрд - $281.8 млрд = $71.5 млрд.',
    interpretation: 'Баланс показывает, чем владеет компания (активы), сколько она должна (обязательства) и какова чистая стоимость для акционеров (капитал). Анализ баланса помогает оценить финансовую устойчивость, ликвидность и эффективность использования капитала.',
    goodValue: 'Здоровый баланс характеризуется адекватным соотношением между активами, обязательствами и капиталом. Важны показатели финансовой устойчивости (соотношение долга к активам < 0.6), ликвидности (коэффициент текущей ликвидности > 1.5) и эффективности использования активов (ROA > отраслевого среднего).'
  },
  assets: {
    title: 'Активы (Assets)',
    description: 'Все ресурсы, которыми владеет компания и которые имеют экономическую ценность. Активы отражаются в балансе компании и представляют собой то, чем компания владеет или что ей должны.',
    formula: '`Активы = Оборотные активы + Внеоборотные активы`',
    example: 'Если оборотные активы компании составляют $100 млн, а внеоборотные активы $250 млн, то общие активы = $100 млн + $250 млн = $350 млн.',
    interpretation: 'Рост активов обычно указывает на расширение бизнеса, но важно анализировать структуру активов и их эффективность. Большой объем активов при низкой рентабельности может указывать на неэффективность.',
    goodValue: 'Нет универсального "хорошего" значения. Важна структура активов, их качество и эффективность использования, измеряемая через ROA и оборачиваемость активов.'
  },
  currentAssets: {
    title: 'Оборотные активы (Current Assets)',
    description: 'Активы, которые компания планирует использовать или конвертировать в денежные средства в течение одного года или операционного цикла. Включают денежные средства, краткосрочные инвестиции, дебиторскую задолженность, запасы и прочие оборотные активы.',
    formula: '`Оборотные активы = Денежные средства + Краткосрочные инвестиции + Дебиторская задолженность + Запасы + Прочие оборотные активы`',
    example: 'Если у компании $30 млрд денежных средств, $31.6 млрд краткосрочных инвестиций, $60.9 млрд дебиторской задолженности, $6.3 млрд запасов и $16.4 млрд прочих оборотных активов, то общие оборотные активы = $30 млрд + $31.6 млрд + $60.9 млрд + $6.3 млрд + $16.4 млрд = $145.2 млрд.',
    interpretation: 'Высокая доля оборотных активов указывает на хорошую ликвидность, но слишком высокая доля может указывать на неэффективное использование капитала. Структура оборотных активов важна: высокая доля денежных средств обеспечивает ликвидность, но может снижать общую доходность.',
    goodValue: 'Зависит от отрасли. Для производственных компаний обычно 30-50% от общих активов, для технологических компаний может быть выше из-за больших денежных резервов.'
  },
  nonCurrentAssets: {
    title: 'Внеоборотные активы (Non-Current Assets)',
    description: 'Долгосрочные активы, которые компания планирует использовать более одного года. Включают основные средства, нематериальные активы, гудвилл, долгосрочные инвестиции и прочие внеоборотные активы.',
    formula: '`Внеоборотные активы = Основные средства + Нематериальные активы + Гудвилл + Долгосрочные инвестиции + Прочие внеоборотные активы`',
    example: 'Если у компании $42.5 млрд основных средств, $1.2 млрд нематериальных активов, $0 гудвилла, $100.5 млрд долгосрочных инвестиций и $95.4 млрд прочих внеоборотных активов, то общие внеоборотные активы = $42.5 млрд + $1.2 млрд + $0 + $100.5 млрд + $95.4 млрд = $239.6 млрд.',
    interpretation: 'Внеоборотные активы представляют долгосрочные инвестиции компании в свой бизнес. Высокая доля основных средств характерна для капиталоемких отраслей. Высокая доля нематериальных активов и гудвилла может указывать на активную стратегию слияний и поглощений.',
    goodValue: 'Зависит от отрасли. Для производственных и добывающих компаний обычно 50-70% от общих активов, для сервисных компаний может быть ниже.'
  },
  liabilities: {
    title: 'Обязательства (Liabilities)',
    description: 'Все долги и обязательства компании перед кредиторами, поставщиками и другими сторонами. Обязательства отражаются в балансе компании и представляют собой то, что компания должна другим.',
    formula: '`Обязательства = Краткосрочные обязательства + Долгосрочные обязательства`',
    example: 'Если краткосрочные обязательства компании составляют $136.6 млрд, а долгосрочные обязательства $145.1 млрд, то общие обязательства = $136.6 млрд + $145.1 млрд = $281.7 млрд.',
    interpretation: 'Высокий уровень обязательств может указывать на финансовый риск, особенно если соотношение долга к активам или капиталу высокое. Однако умеренный уровень долга может увеличить доходность для акционеров через финансовый рычаг.',
    goodValue: 'Зависит от отрасли и стадии развития компании. Обычно соотношение обязательств к активам ниже 0.6 (60%) считается безопасным для большинства отраслей.'
  },
  currentLiabilities: {
    title: 'Краткосрочные обязательства (Current Liabilities)',
    description: 'Обязательства, которые компания планирует погасить в течение одного года или операционного цикла. Включают кредиторскую задолженность, краткосрочные займы, текущую часть долгосрочного долга и прочие краткосрочные обязательства.',
    formula: '`Краткосрочные обязательства = Кредиторская задолженность + Краткосрочные займы + Текущая часть долгосрочного долга + Прочие краткосрочные обязательства`',
    example: 'Если у компании $62.6 млрд кредиторской задолженности, $13.2 млрд краткосрочных займов, $0 текущей части долгосрочного долга и $60.8 млрд прочих краткосрочных обязательств, то общие краткосрочные обязательства = $62.6 млрд + $13.2 млрд + $0 + $60.8 млрд = $136.6 млрд.',
    interpretation: 'Высокий уровень краткосрочных обязательств может создавать риск ликвидности, особенно если коэффициент текущей ликвидности ниже 1. Структура краткосрочных обязательств также важна: высокая доля кредиторской задолженности обычно менее рискованна, чем высокая доля краткосрочных займов.',
    goodValue: 'Зависит от отрасли и бизнес-модели. Важно, чтобы оборотные активы превышали краткосрочные обязательства (коэффициент текущей ликвидности > 1).'
  },
  nonCurrentLiabilities: {
    title: 'Долгосрочные обязательства (Non-Current Liabilities)',
    description: 'Обязательства, срок погашения которых превышает один год. Включают долгосрочные займы, отложенные налоговые обязательства и прочие долгосрочные обязательства.',
    formula: '`Долгосрочные обязательства = Долгосрочные займы + Отложенные налоговые обязательства + Прочие долгосрочные обязательства`',
    example: 'Если у компании $95.3 млрд долгосрочных займов, $0 отложенных налоговых обязательств и $49.8 млрд прочих долгосрочных обязательств, то общие долгосрочные обязательства = $95.3 млрд + $0 + $49.8 млрд = $145.1 млрд.',
    interpretation: 'Долгосрочные обязательства представляют долгосрочное финансирование компании. Умеренный уровень долгосрочного долга может быть полезен для финансирования роста и увеличения доходности для акционеров. Однако слишком высокий уровень может создавать финансовый риск.',
    goodValue: 'Зависит от отрасли и стабильности денежных потоков компании. Важно, чтобы компания могла обслуживать долг из операционного денежного потока (коэффициент покрытия процентов > 3).'
  },
  equity: {
    title: 'Капитал (Equity)',
    description: 'Остаточная доля в активах компании после вычета всех обязательств. Представляет собой средства, принадлежащие акционерам. Включает обыкновенные акции, нераспределенную прибыль, выкупленные акции и прочий капитал.',
    formula: '`Капитал = Обыкновенные акции + Нераспределенная прибыль - Выкупленные акции + Прочий капитал`',
    example: 'Если у компании $64.8 млрд обыкновенных акций, $6.3 млрд нераспределенной прибыли, $0 выкупленных акций и $394 млн прочего капитала, то общий капитал = $64.8 млрд + $6.3 млрд - $0 + $394 млн = $71.5 млрд.',
    interpretation: 'Капитал представляет чистую стоимость компании для акционеров. Рост капитала обычно является положительным знаком, указывающим на прибыльность и реинвестирование. Структура капитала также важна: высокая доля нераспределенной прибыли указывает на историческую прибыльность.',
    goodValue: 'Нет универсального "хорошего" значения. Важно соотношение капитала к активам (финансовая устойчивость) и рентабельность капитала (ROE).'
  },
  // Технические индикаторы
  movingAverage: {
    title: 'Скользящая средняя (Moving Average, MA)',
    description: 'Технический индикатор, который показывает среднюю цену актива за определенный период времени. Помогает сгладить колебания цены и выявить тренд.',
    formula: '`MA = (P₁ + P₂ + ... + Pₙ) / n`, где P - цена закрытия, n - период',
    example: 'Для 20-дневной MA суммируются цены закрытия за последние 20 дней и делятся на 20.',
    interpretation: 'Когда цена находится выше MA - это признак восходящего тренда, ниже MA - нисходящего. Пересечение цены с MA может сигнализировать о развороте тренда.',
    goodValue: 'Нет универсального "хорошего" значения. Обычно используются периоды 20, 50 и 200 дней для разных временных горизонтов.'
  },
  
  bollinger: {
    title: 'Полосы Боллинджера (Bollinger Bands)',
    description: 'Индикатор волатильности, состоящий из трех линий: средней (обычно 20-периодная MA) и двух полос на расстоянии стандартных отклонений от средней.',
    formula: '`Средняя полоса = 20-периодная MA\nВерхняя полоса = MA + (2 × σ)\nНижняя полоса = MA - (2 × σ)`, где σ - стандартное отклонение цены за 20 периодов',
    example: 'Если 20-дневная MA равна $100, а стандартное отклонение $5, то верхняя полоса будет на уровне $110, а нижняя - $90.',
    interpretation: 'Сужение полос указывает на низкую волатильность и возможный скорый сильный ход цены. Расширение полос говорит о высокой волатильности. Цена часто отскакивает от полос к средней линии.',
    goodValue: 'Нет "хороших" значений. Это инструмент для анализа волатильности и определения потенциальных точек разворота.'
  },
  
  rsi: {
    title: 'Индекс относительной силы (Relative Strength Index, RSI)',
    description: 'Осциллятор, измеряющий скорость и величину направленного движения цен. Показывает силу тренда и вероятность его смены.',
    formula: '`RSI = 100 - (100 / (1 + RS))\nRS = Средний прирост / Средний убыток` за определенный период (обычно 14 дней)',
    example: 'Если средний прирост за 14 дней составляет $2, а средний убыток $1, то RS = 2, а RSI = 100 - (100 / (1 + 2)) = 67.',
    interpretation: 'Значения выше 70 указывают на перекупленность актива, ниже 30 - на перепроданность. Дивергенция между RSI и ценой может сигнализировать о развороте тренда.',
    goodValue: 'Нейтральное значение - около 50. Значения 30-70 считаются нормальным диапазоном.'
  },
  
  fibonacci: {
    title: 'Уровни Фибоначчи (Fibonacci Retracement)',
    description: 'Горизонтальные линии, указывающие на возможные уровни поддержки или сопротивления, основанные на числах Фибоначчи.',
    formula: '`Уровни = Минимум + (Максимум - Минимум) × Коэффициент`, где коэффициенты: 0, 0.236, 0.382, 0.5, 0.618, 0.786, 1',
    example: 'Если минимум $100, а максимум $200, то уровень 38.2% будет на $138.2 (100 + (200 - 100) × 0.382).',
    interpretation: 'Цена часто корректируется до этих уровней после сильного движения. Уровни 38.2%, 50% и 61.8% считаются наиболее значимыми для коррекции.',
    goodValue: 'Нет "хороших" значений. Это инструмент для определения потенциальных уровней поддержки и сопротивления.'
  },
  
  orderBook: {
    title: 'Стакан заявок (Order Book)',
    description: 'Инструмент, отображающий текущие заявки на покупку и продажу актива по различным ценам. Показывает глубину рынка и потенциальные уровни поддержки/сопротивления.',
    formula: 'Не применимо. Стакан заявок - это визуальное представление реальных заявок участников рынка.',
    example: 'Если на уровне $100 есть заявки на покупку объемом 1000 акций, это может создать уровень поддержки. Если на уровне $110 есть заявки на продажу объемом 2000 акций, это может создать уровень сопротивления.',
    interpretation: 'Большие объемы заявок на определенных ценовых уровнях могут указывать на сильные уровни поддержки (для заявок на покупку) или сопротивления (для заявок на продажу). Дисбаланс между объемами покупок и продаж может указывать на потенциальное направление движения цены.',
    goodValue: 'Нет "хороших" значений. Это инструмент для анализа текущего спроса и предложения на рынке.'
  }
};

// Объяснения финансовых показателей
export const financialMetricsExplanations: Record<string, MetricExplanation> = {
  totalRevenue: {
    title: 'Выручка (Total Revenue)',
    description: 'Общая сумма денег, полученная компанией от продажи товаров или услуг за определенный период. Это верхняя строка отчета о прибылях и убытках.',
    formula: '`Выручка = Цена × Количество проданных товаров/услуг`',
    example: 'Если компания продала 1 млн единиц товара по $50 за единицу, то выручка = 1 млн × $50 = $50 млн.',
    interpretation: 'Рост выручки обычно является положительным знаком, но важно также смотреть на прибыльность.'
  },
  grossProfit: {
    title: 'Валовая прибыль (Gross Profit)',
    description: 'Выручка минус себестоимость проданных товаров (COGS). Показывает, сколько денег остается для покрытия операционных расходов и получения прибыли.',
    formula: '`Валовая прибыль = Выручка - Себестоимость проданных товаров`',
    example: 'Если выручка $50 млн, а себестоимость $30 млн, то валовая прибыль = $50 млн - $30 млн = $20 млн.',
    interpretation: 'Высокая валовая прибыль указывает на эффективность производства и ценообразования.'
  },
  ebitda: {
    title: 'EBITDA',
    description: 'Прибыль до вычета процентов, налогов, износа и амортизации. Показывает операционную эффективность без учета капитальных затрат и структуры капитала.',
    formula: '`EBITDA = Операционная прибыль + Амортизация + Износ`',
    example: 'Если операционная прибыль $15 млн, а амортизация и износ $5 млн, то EBITDA = $15 млн + $5 млн = $20 млн.',
    interpretation: 'EBITDA часто используется для оценки операционной эффективности и сравнения компаний с разной структурой капитала.'
  },
  ebit: {
    title: 'EBIT (Операционная прибыль)',
    description: 'Прибыль до вычета процентов и налогов. Показывает операционную эффективность без учета структуры капитала.',
    formula: '`EBIT = Выручка - Операционные расходы`',
    example: 'Если выручка $50 млн, а операционные расходы $35 млн, то EBIT = $50 млн - $35 млн = $15 млн.',
    interpretation: 'EBIT показывает, сколько компания зарабатывает от своей основной деятельности, без учета финансовых расходов и налогов.'
  },
  ebt: {
    title: 'EBT (Прибыль до налогообложения)',
    description: 'Прибыль до вычета налогов. Показывает, сколько компания заработала после учета всех расходов, кроме налогов.',
    formula: '`EBT = EBIT - Процентные расходы`',
    example: 'Если EBIT $15 млн, а процентные расходы $3 млн, то EBT = $15 млн - $3 млн = $12 млн.',
    interpretation: 'EBT показывает прибыльность компании с учетом ее долговой нагрузки, но до уплаты налогов.'
  },
  netIncome: {
    title: 'Чистая прибыль (Net Income)',
    description: 'Прибыль после вычета всех расходов, включая налоги. Это "нижняя строка" отчета о прибылях и убытках.',
    formula: '`Чистая прибыль = EBT - Налоги`',
    example: 'Если EBT $12 млн, а налоги $3 млн, то чистая прибыль = $12 млн - $3 млн = $9 млн.',
    interpretation: 'Чистая прибыль показывает, сколько денег компания действительно заработала за период после всех расходов.'
  }
}; 